<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
  />
  <style media="screen">
    img{width:260px;}
    .container{display:flex;
                height:100vh;}
    .item1{flex-grow:2;
            background-image:url("bgBlue.jpg");
            height:100vh;}
    .item2{flex-grow:4;
            background-color:green;}
    .item3{flex-grow:3;
            background-color:orange;}
  </style>
  <body>
    <script type="text/javascript">
      count=0;
      grandma_count=0;
      farm_count=0;
      let ls_count=localStorage.getItem("ls_count");
      if(ls_count){
        count=parseInt(ls_count);
      }else{
        count=0;
      }
      setInterval(save_action,1000);
      function save_action() {
        localStorage.setItem("ls_count",count);
      }
      setInterval(screen_update,10);
      function screen_update() {
        span=document.getElementById('cookie_count');
        span.textContent=count;
      }
      document.cookie="cookie_count=100"
      function cookie_click() {
        var cookie_img=document.getElementById('cookie_img');
        cookie_img.classList.remove('animate__animated','animate__shakeY');
        void cookie_img.offsetWidth;
        cookie_img.classList.add('animate__animated','animate__shakeY');
        count++;
      }
      function grandma() {
        if(count>=100){
          count-=100;
          grandma_count++;
          setInterval(autoCountUp,1000,1);
        }
      }
      function farm() {
        if(count>=1000){
          count-=1000;
          farm_count++;
          setInterval(autoCountUp,1000,8);
        }
      }

      function juice() {
        if(count>=100000){
          count-=100000;
          farm_count++;
          setInterval(autoCountUp,1000,999);
        }
      }

      function autoCountUp(num) {
        count+=num;
      }
    </script>
    <div class="container">
    <div class="item1">
      <p class="animate__animated animate__bounce"><span id="cookie_count"></span>枚</p>
      <img id="cookie_img" onclick="cookie_click(1)" src="cookie.jpg" alt="">
    </div>
    <div class="item2">
      製作途中
    </div>
    <div class="item3">
      <ul>
        <li onclick="grandma()">グランマ</li>
        <li onclick="farm()">ファーム</li>
        <li onclick="juice()">ジュース</li>
      </ul>
    </div>
    </div>
  </body>
</html>
